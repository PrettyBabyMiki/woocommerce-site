jQuery(function(t){if("undefined"==typeof wc_add_to_cart_params)return!1;(function(){t(document).on("click",".add_to_cart_button",this.onAddToCart).on("click",".remove_from_cart_button",this.onRemoveFromCart).on("added_to_cart",this.updateButton).on("added_to_cart",this.updateCartPage).on("added_to_cart removed_from_cart",this.updateFragments)}).prototype.onAddToCart=function(a){var r=t(this);if(r.is(".ajax_add_to_cart")){if(!r.attr("data-product_id"))return!0;a.preventDefault(),r.removeClass("added"),r.addClass("loading");var d={};t.each(r.data(),function(t,a){d[t]=a}),t(document.body).trigger("adding_to_cart",[r,d]),t.post(wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),d,function(a){a&&(a.error&&a.product_url?window.location=a.product_url:"yes"!==wc_add_to_cart_params.cart_redirect_after_add?t(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,r]):window.location=wc_add_to_cart_params.cart_url)})}}});