jQuery.fn.animateHighlight=function(e,c){var d=e||"#FFFF9C";var a=c||1500;var b=this.css("backgroundColor");this.stop().css("background-color",d).animate({backgroundColor:b},a)};jQuery(function(){jQuery(".add_to_cart_button").live("click",function(){var j=jQuery(this);if(j.is(".product_type_simple")){jQuery(j).addClass("loading");var k={action:"woocommerce_add_to_cart",product_id:jQuery(j).attr("rel"),security:woocommerce_params.add_to_cart_nonce};jQuery("body").trigger("adding_to_cart");jQuery.post(woocommerce_params.ajax_url,k,function(l){k=jQuery.parseJSON(l);if(k.error){alert(k.error);jQuery(j).removeClass("loading");return}fragments=k;if(fragments){jQuery.each(fragments,function(m,n){jQuery(m).addClass("updating")})}jQuery(".widget_shopping_cart, .shop_table.cart, .updating").fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});jQuery(j).addClass("added");jQuery(j).removeClass("loading");jQuery(".widget_shopping_cart:eq(0)").load(window.location+" .widget_shopping_cart:eq(0) > *",function(){if(fragments){jQuery.each(fragments,function(m,n){jQuery(m).replaceWith(n)})}jQuery(".widget_shopping_cart, .updating").css("opacity","1").unblock()});jQuery(".shop_table.cart").load(window.location+" .shop_table.cart:eq(0) > *",function(){jQuery("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" id="add1" class="plus" />').prepend('<input type="button" value="-" id="minus1" class="minus" />');jQuery(".shop_table.cart").css("opacity","1").unblock()});jQuery("body").trigger("added_to_cart")});return false}else{return true}});jQuery("select.orderby").change(function(){jQuery(this).closest("form").submit()});jQuery("#rating").hide().before('<p class="stars"><span><a class="star-1" href="#">1</a><a class="star-2" href="#">2</a><a class="star-3" href="#">3</a><a class="star-4" href="#">4</a><a class="star-5" href="#">5</a></span></p>');jQuery("p.stars a").click(function(){jQuery("#rating").val(jQuery(this).text());jQuery("p.stars a").removeClass("active");jQuery(this).addClass("active");return false});var g=jQuery(".price_slider_amount #min_price").val();var d=jQuery(".price_slider_amount #max_price").val();if(woocommerce_params.min_price){current_min_price=woocommerce_params.min_price}else{current_min_price=g}if(woocommerce_params.max_price){current_max_price=woocommerce_params.max_price}else{current_max_price=d}current_min_price=parseInt(current_min_price);current_max_price=parseInt(current_max_price);jQuery(".price_slider").slider({range:true,animate:true,min:g,max:d,values:[current_min_price,current_max_price],create:function(j,k){if(woocommerce_params.currency_pos=="left"){jQuery(".price_slider_amount span").html(woocommerce_params.currency_symbol+current_min_price+" - "+woocommerce_params.currency_symbol+current_max_price)}else{if(woocommerce_params.currency_pos=="left_space"){jQuery(".price_slider_amount span").html(woocommerce_params.currency_symbol+" "+current_min_price+" - "+woocommerce_params.currency_symbol+" "+current_max_price)}else{if(woocommerce_params.currency_pos=="right"){jQuery(".price_slider_amount span").html(current_min_price+woocommerce_params.currency_symbol+" - "+current_max_price+woocommerce_params.currency_symbol)}else{if(woocommerce_params.currency_pos=="right_space"){jQuery(".price_slider_amount span").html(current_min_price+" "+woocommerce_params.currency_symbol+" - "+current_max_price+" "+woocommerce_params.currency_symbol)}}}}jQuery(".price_slider_amount #min_price").val(current_min_price);jQuery(".price_slider_amount #max_price").val(current_max_price)},slide:function(j,k){if(woocommerce_params.currency_pos=="left"){jQuery(".price_slider_amount span").html(woocommerce_params.currency_symbol+k.values[0]+" - "+woocommerce_params.currency_symbol+k.values[1])}else{if(woocommerce_params.currency_pos=="left_space"){jQuery(".price_slider_amount span").html(woocommerce_params.currency_symbol+" "+k.values[0]+" - "+woocommerce_params.currency_symbol+" "+k.values[1])}else{if(woocommerce_params.currency_pos=="right"){jQuery(".price_slider_amount span").html(k.values[0]+woocommerce_params.currency_symbol+" - "+k.values[1]+woocommerce_params.currency_symbol)}else{if(woocommerce_params.currency_pos=="right_space"){jQuery(".price_slider_amount span").html(k.values[0]+" "+woocommerce_params.currency_symbol+" - "+k.values[1]+" "+woocommerce_params.currency_symbol)}}}}jQuery("input#min_price").val(k.values[0]);jQuery("input#max_price").val(k.values[1])}});jQuery("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" id="add1" class="plus" />').prepend('<input type="button" value="-" id="minus1" class="minus" />');jQuery(".plus").live("click",function(){var j=parseInt(jQuery(this).prev(".qty").val());if(!j||j==""||j=="NaN"){j=0}jQuery(this).prev(".qty").val(j+1)});jQuery(".minus").live("click",function(){var j=parseInt(jQuery(this).next(".qty").val());if(j=="NaN"){j=1}if(j>1){jQuery(this).next(".qty").val(j-1)}});var b=woocommerce_params.countries.replace(/&quot;/g,'"');var h=jQuery.parseJSON(b);jQuery("select.country_to_state").change(function(){var o=jQuery(this).val();var m=jQuery("#"+jQuery(this).attr("rel"));var p=jQuery(m).attr("name");var l=jQuery(m).attr("id");if(h[o]){var k="";var n=h[o];for(var j in n){k=k+'<option value="'+j+'">'+n[j]+"</option>"}if(jQuery(m).is("input")){jQuery(m).replaceWith('<select name="'+p+'" id="'+l+'"><option value="">'+woocommerce_params.select_state_text+"</option></select>");m=jQuery("#"+jQuery(this).attr("rel"))}jQuery(m).append(k)}else{if(jQuery(m).is("select")){jQuery(m).replaceWith('<input type="text" placeholder="'+woocommerce_params.state_text+'" name="'+p+'" id="'+l+'" />');m=jQuery("#"+jQuery(this).attr("rel"))}}}).change();jQuery("div.woocommerce_tabs .panel").hide();jQuery("div.woocommerce_tabs ul.tabs li a").click(function(){var k=jQuery(this).closest("div.woocommerce_tabs");var j=jQuery(this).attr("href");jQuery("ul.tabs li.active",k).removeClass("active");jQuery("div.panel",k).hide();jQuery("div"+j).show();jQuery(this).parent().addClass("active");jQuery.cookie("current_tab",j);return false});jQuery("div.woocommerce_tabs").each(function(){if(jQuery("ul.tabs li.active",jQuery(this)).size()==0){jQuery("ul.tabs li:first a",jQuery(this)).click()}else{jQuery("ul.tabs li.active a",jQuery(this)).click()}});jQuery(".shipping-calculator-form").hide();jQuery(".shipping-calculator-button").click(function(){jQuery(".shipping-calculator-form").slideToggle("slow",function(){})});jQuery(".shipping-calculator-button").click(function(){return false});function a(n,m){var j=true;for(name in n){var l=n[name];var k=m[name];if(l.length!=0&&k.length!=0&&l!=k){j=false}}return j}function i(l){var n=[];for(var k=0;k<product_variations.length;k++){var j=product_variations[k];var m=j.variation_id;if(a(j.attributes,l)){n.push(j)}}return n}function f(n){var j=jQuery(".variations select").not("[disabled]").last();j.find("option:gt(0)").attr("disabled","disabled");var m=j.attr("name");for(num in n){var k=n[num].attributes;for(attr_name in k){var l=k[attr_name];if(attr_name==m){j.find('option[value="'+l+'"]').removeAttr("disabled")}}}}function e(l){var j=jQuery("div.images img:eq(0)");var p=jQuery("div.images a.zoom");var o=jQuery(j).attr("original-src");var n=jQuery(p).attr("original-href");var m=l.image_src;var k=l.image_link;jQuery(".single_variation").html(l.price_html+l.availability_html);if(!o){jQuery(j).attr("original-src",jQuery(j).attr("src"))}if(!n){jQuery(p).attr("original-href",jQuery(p).attr("href"))}if(m&&m.length>1){jQuery(j).attr("src",m);jQuery(p).attr("href",k)}else{jQuery(j).attr("src",o);jQuery(p).attr("href",n)}jQuery(".single_variation_wrap").slideDown()}function c(){jQuery("form input[name=variation_id]").val("");jQuery(".single_variation_wrap").hide();jQuery(".single_variation").text("");var j=true;var l={};jQuery(".variations select").each(function(){if(jQuery(this).val().length==0){j=false}l[jQuery(this).attr("name")]=jQuery(this).val()});var m=i(l);if(j){var k=m.pop();jQuery("form input[name=variation_id]").val(k.variation_id);e(k)}else{f(m)}}jQuery(".variations select").change(function(){var j=jQuery(this).data("index");if(jQuery(this).val().length>0){j+=1}var k=jQuery(".variations select");k.filter(":lt("+j+")").removeAttr("disabled");k.filter(":eq("+j+")").removeAttr("disabled").val("");k.filter(":gt("+j+")").attr("disabled","disabled").val("");c(jQuery(this));if(jQuery().uniform){jQuery.uniform.update()}});jQuery(".variations select:gt(0)").attr("disabled","disabled");jQuery.each(jQuery(".variations select"),function(j,k){jQuery(k).data("index",j)})});if(woocommerce_params.is_checkout==1){var updateTimer;function update_checkout(){var h=jQuery("#shipping_method").val();var g=jQuery("#billing-country").val();var e=jQuery("#billing-state").val();var a=jQuery("input#billing-postcode").val();if(jQuery("#shiptobilling input").is(":checked")||jQuery("#shiptobilling input").size()==0){var b=jQuery("#billing-country").val();var d=jQuery("#billing-state").val();var f=jQuery("input#billing-postcode").val()}else{var b=jQuery("#shipping-country").val();var d=jQuery("#shipping-state").val();var f=jQuery("input#shipping-postcode").val()}jQuery("#order_methods, #order_review").block({message:null,overlayCSS:{background:"#fff url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});var c={action:"woocommerce_update_order_review",security:woocommerce_params.update_order_review_nonce,shipping_method:h,country:g,state:e,postcode:a,s_country:b,s_state:d,s_postcode:f};jQuery.post(woocommerce_params.ajax_url,c,function(i){jQuery("#order_methods, #order_review").remove();jQuery("#order_review_heading").after(i);jQuery("#order_review input[name=payment_method]:checked").click()})}jQuery(function(){jQuery("p.password").hide();jQuery("input.show_password").change(function(){jQuery("p.password").slideToggle()});jQuery("div.shipping-address").hide();jQuery("#shiptobilling input").change(function(){jQuery("div.shipping-address").hide();if(!jQuery(this).is(":checked")){jQuery("div.shipping-address").slideDown()}}).change();if(woocommerce_params.option_guest_checkout=="yes"){jQuery("div.create-account").hide();jQuery("input#createaccount").change(function(){jQuery("div.create-account").hide();if(jQuery(this).is(":checked")){jQuery("div.create-account").slideDown()}}).change()}jQuery(".payment_methods input.input-radio").live("click",function(){jQuery("div.payment_box").hide();if(jQuery(this).is(":checked")){jQuery("div.payment_box."+jQuery(this).attr("ID")).slideDown()}});jQuery("#order_review input[name=payment_method]:checked").click();jQuery("form.login").hide();jQuery("a.showlogin").click(function(){jQuery("form.login").slideToggle()});jQuery("#shipping_method").live("change",function(){clearTimeout(updateTimer);update_checkout()}).change();jQuery("input#billing-country, input#billing-state, #billing-postcode, input#shipping-country, input#shipping-state, #shipping-postcode").live("keydown",function(){clearTimeout(updateTimer);updateTimer=setTimeout("update_checkout()","1000")});jQuery("select#billing-country, select#billing-state, select#shipping-country, select#shipping-state, #shiptobilling input").live("change",function(){clearTimeout(updateTimer);update_checkout()});jQuery("form.checkout").submit(function(){var a=this;jQuery(a).block({message:null,overlayCSS:{background:"#fff url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});jQuery.ajax({type:"POST",url:woocommerce_params.checkout_url,data:jQuery(a).serialize(),success:function(c){jQuery(".woocommerce_error, .woocommerce_message").remove();try{success=jQuery.parseJSON(c);window.location=decodeURI(success.redirect)}catch(b){jQuery(a).prepend(c);jQuery(a).unblock();jQuery("html, body").animate({scrollTop:(jQuery("form.checkout").offset().top-100)},1000)}},dataType:"html"});return false})})};