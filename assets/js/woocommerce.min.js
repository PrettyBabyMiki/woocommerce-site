jQuery.fn.animateHighlight=function(e,c){var d=e||"#FFFF9C";var a=c||1500;var b=this.css("backgroundColor");this.stop().css("background-color",d).animate({backgroundColor:b},a)};jQuery(document).ready(function(e){e(".add_to_cart_button").live("click",function(){var k=e(this);if(k.is(".product_type_simple")){e(k).addClass("loading");var l={action:"woocommerce_add_to_cart",product_id:e(k).attr("rel"),security:woocommerce_params.add_to_cart_nonce};e("body").trigger("adding_to_cart");e.post(woocommerce_params.ajax_url,l,function(m){l=e.parseJSON(m);if(l.error){alert(l.error);e(k).removeClass("loading");return}fragments=l;if(fragments){e.each(fragments,function(n,o){e(n).addClass("updating")})}e(".widget_shopping_cart, .shop_table.cart, .updating").fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});e(k).addClass("added");e(k).removeClass("loading");e(".widget_shopping_cart:eq(0)").load(window.location+" .widget_shopping_cart:eq(0) > *",function(){if(fragments){e.each(fragments,function(n,o){e(n).replaceWith(o)})}e(".widget_shopping_cart, .updating").css("opacity","1").unblock()});e(".shop_table.cart").load(window.location+" .shop_table.cart:eq(0) > *",function(){e("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" id="add1" class="plus" />').prepend('<input type="button" value="-" id="minus1" class="minus" />');e(".shop_table.cart").css("opacity","1").unblock()});e("body").trigger("added_to_cart")});return false}else{return true}});e("select.orderby").change(function(){e(this).closest("form").submit()});e("#rating").hide().before('<p class="stars"><span><a class="star-1" href="#">1</a><a class="star-2" href="#">2</a><a class="star-3" href="#">3</a><a class="star-4" href="#">4</a><a class="star-5" href="#">5</a></span></p>');e("p.stars a").click(function(){e("#rating").val(e(this).text());e("p.stars a").removeClass("active");e(this).addClass("active");return false});var h=e(".price_slider_amount #min_price").val();var d=e(".price_slider_amount #max_price").val();if(woocommerce_params.min_price){current_min_price=woocommerce_params.min_price}else{current_min_price=h}if(woocommerce_params.max_price){current_max_price=woocommerce_params.max_price}else{current_max_price=d}current_min_price=parseInt(current_min_price);current_max_price=parseInt(current_max_price);e(".price_slider").slider({range:true,animate:true,min:h,max:d,values:[current_min_price,current_max_price],create:function(k,l){if(woocommerce_params.currency_pos=="left"){e(".price_slider_amount span").html(woocommerce_params.currency_symbol+current_min_price+" - "+woocommerce_params.currency_symbol+current_max_price)}else{if(woocommerce_params.currency_pos=="left_space"){e(".price_slider_amount span").html(woocommerce_params.currency_symbol+" "+current_min_price+" - "+woocommerce_params.currency_symbol+" "+current_max_price)}else{if(woocommerce_params.currency_pos=="right"){e(".price_slider_amount span").html(current_min_price+woocommerce_params.currency_symbol+" - "+current_max_price+woocommerce_params.currency_symbol)}else{if(woocommerce_params.currency_pos=="right_space"){e(".price_slider_amount span").html(current_min_price+" "+woocommerce_params.currency_symbol+" - "+current_max_price+" "+woocommerce_params.currency_symbol)}}}}e(".price_slider_amount #min_price").val(current_min_price);e(".price_slider_amount #max_price").val(current_max_price)},slide:function(k,l){if(woocommerce_params.currency_pos=="left"){e(".price_slider_amount span").html(woocommerce_params.currency_symbol+l.values[0]+" - "+woocommerce_params.currency_symbol+l.values[1])}else{if(woocommerce_params.currency_pos=="left_space"){e(".price_slider_amount span").html(woocommerce_params.currency_symbol+" "+l.values[0]+" - "+woocommerce_params.currency_symbol+" "+l.values[1])}else{if(woocommerce_params.currency_pos=="right"){e(".price_slider_amount span").html(l.values[0]+woocommerce_params.currency_symbol+" - "+l.values[1]+woocommerce_params.currency_symbol)}else{if(woocommerce_params.currency_pos=="right_space"){e(".price_slider_amount span").html(l.values[0]+" "+woocommerce_params.currency_symbol+" - "+l.values[1]+" "+woocommerce_params.currency_symbol)}}}}e("input#min_price").val(l.values[0]);e("input#max_price").val(l.values[1])}});e("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" id="add1" class="plus" />').prepend('<input type="button" value="-" id="minus1" class="minus" />');e(".plus").live("click",function(){var k=parseInt(e(this).prev(".qty").val());if(!k||k==""||k=="NaN"){k=0}e(this).prev(".qty").val(k+1)});e(".minus").live("click",function(){var k=parseInt(e(this).next(".qty").val());if(k=="NaN"){k=1}if(k>1){e(this).next(".qty").val(k-1)}});var b=woocommerce_params.countries.replace(/&quot;/g,'"');var i=e.parseJSON(b);e("select.country_to_state").change(function(){var p=e(this).val();var n=e("#"+e(this).attr("rel"));var q=e(n).attr("name");var m=e(n).attr("id");if(i[p]){var l="";var o=i[p];for(var k in o){l=l+'<option value="'+k+'">'+o[k]+"</option>"}if(e(n).is("input")){e(n).replaceWith('<select name="'+q+'" id="'+m+'"><option value="">'+woocommerce_params.select_state_text+"</option></select>");n=e("#"+e(this).attr("rel"))}e(n).append(l)}else{if(e(n).is("select")){e(n).replaceWith('<input type="text" placeholder="'+woocommerce_params.state_text+'" name="'+q+'" id="'+m+'" />');n=e("#"+e(this).attr("rel"))}}}).change();e("div.woocommerce_tabs .panel").hide();e("div.woocommerce_tabs ul.tabs li a").click(function(){var l=e(this).closest("div.woocommerce_tabs");var k=e(this).attr("href");e("ul.tabs li.active",l).removeClass("active");e("div.panel",l).hide();e("div"+k).show();e(this).parent().addClass("active");e.cookie("current_tab",k);return false});e("div.woocommerce_tabs").each(function(){if(e("ul.tabs li.active",e(this)).size()==0){e("ul.tabs li:first a",e(this)).click()}else{e("ul.tabs li.active a",e(this)).click()}});e(".shipping-calculator-form").hide();e(".shipping-calculator-button").click(function(){e(".shipping-calculator-form").slideToggle("slow",function(){})});e(".shipping-calculator-button").click(function(){return false});function a(o,n){var k=true;for(name in o){var m=o[name];var l=n[name];if(m.length!=0&&l.length!=0&&m!=l){k=false}}return k}function j(m){var o=[];for(var l=0;l<product_variations.length;l++){var k=product_variations[l];var n=k.variation_id;if(a(k.attributes,m)){o.push(k)}}return o}function g(o){var k=e(".variations select").not("[disabled]").last();k.find("option:gt(0)").attr("disabled","disabled");var n=k.attr("name");for(num in o){var l=o[num].attributes;for(attr_name in l){var m=l[attr_name];if(attr_name==n){k.find('option[value="'+m+'"]').removeAttr("disabled")}}}}function f(m){var k=e("div.images img:eq(0)");var q=e("div.images a.zoom");var p=e(k).attr("original-src");var o=e(q).attr("original-href");var n=m.image_src;var l=m.image_link;e(".single_variation").html(m.price_html+m.availability_html);if(!p){e(k).attr("original-src",e(k).attr("src"))}if(!o){e(q).attr("original-href",e(q).attr("href"))}if(n&&n.length>1){e(k).attr("src",n);e(q).attr("href",l)}else{e(k).attr("src",p);e(q).attr("href",o)}e(".single_variation_wrap").slideDown()}function c(){e("form input[name=variation_id]").val("");e(".single_variation_wrap").hide();e(".single_variation").text("");var k=true;var m={};e(".variations select").each(function(){if(e(this).val().length==0){k=false}m[e(this).attr("name")]=e(this).val()});var n=j(m);if(k){var l=n.pop();e("form input[name=variation_id]").val(l.variation_id);f(l)}else{g(n)}}e(".variations select").change(function(){var k=e(this).data("index");if(e(this).val().length>0){k+=1}var l=e(".variations select");l.filter(":lt("+k+")").removeAttr("disabled");l.filter(":eq("+k+")").removeAttr("disabled").val("");l.filter(":gt("+k+")").attr("disabled","disabled").val("");c(e(this));if(e().uniform){e.uniform.update()}});e(".variations select:gt(0)").attr("disabled","disabled");e.each(e(".variations select"),function(k,l){e(l).data("index",k)})});if(woocommerce_params.is_checkout==1){var updateTimer;function update_checkout(){var h=$("#shipping_method").val();var g=$("#billing-country").val();var e=$("#billing-state").val();var a=$("input#billing-postcode").val();if($("#shiptobilling input").is(":checked")||$("#shiptobilling input").size()==0){var b=$("#billing-country").val();var d=$("#billing-state").val();var f=$("input#billing-postcode").val()}else{var b=$("#shipping-country").val();var d=$("#shipping-state").val();var f=$("input#shipping-postcode").val()}$("#order_methods, #order_review").block({message:null,overlayCSS:{background:"#fff url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});var c={action:"woocommerce_update_order_review",security:woocommerce_params.update_order_review_nonce,shipping_method:h,country:g,state:e,postcode:a,s_country:b,s_state:d,s_postcode:f};$.post(woocommerce_params.ajax_url,c,function(i){$("#order_methods, #order_review").remove();$("#order_review_heading").after(i);$("#order_review input[name=payment_method]:checked").click()})}$(function(){$("p.password").hide();$("input.show_password").change(function(){$("p.password").slideToggle()});$("div.shipping-address").hide();$("#shiptobilling input").change(function(){$("div.shipping-address").hide();if(!$(this).is(":checked")){$("div.shipping-address").slideDown()}}).change();if(woocommerce_params.option_guest_checkout=="yes"){$("div.create-account").hide();$("input#createaccount").change(function(){$("div.create-account").hide();if($(this).is(":checked")){$("div.create-account").slideDown()}}).change()}$(".payment_methods input.input-radio").live("click",function(){$("div.payment_box").hide();if($(this).is(":checked")){$("div.payment_box."+$(this).attr("ID")).slideDown()}});$("#order_review input[name=payment_method]:checked").click();$("form.login").hide();$("a.showlogin").click(function(){$("form.login").slideToggle()});$("#shipping_method").live("change",function(){clearTimeout(updateTimer);update_checkout()}).change();$("input#billing-country, input#billing-state, #billing-postcode, input#shipping-country, input#shipping-state, #shipping-postcode").live("keydown",function(){clearTimeout(updateTimer);updateTimer=setTimeout("update_checkout()","1000")});$("select#billing-country, select#billing-state, select#shipping-country, select#shipping-state, #shiptobilling input").live("change",function(){clearTimeout(updateTimer);update_checkout()});$("form.checkout").submit(function(){var a=this;$(a).block({message:null,overlayCSS:{background:"#fff url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});$.ajax({type:"POST",url:woocommerce_params.checkout_url,data:$(a).serialize(),success:function(c){$(".woocommerce_error, .woocommerce_message").remove();try{success=$.parseJSON(c);window.location=decodeURI(success.redirect)}catch(b){$(a).prepend(c);$(a).unblock();$("html, body").animate({scrollTop:($("form.checkout").offset().top-100)},1000)}},dataType:"html"});return false})})};